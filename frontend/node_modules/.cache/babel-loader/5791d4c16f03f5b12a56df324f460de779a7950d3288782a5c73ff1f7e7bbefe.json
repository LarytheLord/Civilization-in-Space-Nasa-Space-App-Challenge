{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nexport const useWebSocket = url => {\n  _s();\n  const [data, setData] = useState({});\n  const [connected, setConnected] = useState(false);\n  useEffect(() => {\n    const ws = new WebSocket(url);\n    ws.onopen = () => {\n      console.log('WebSocket connected');\n      setConnected(true);\n    };\n    ws.onmessage = event => {\n      const message = JSON.parse(event.data);\n      setData(prev => ({\n        ...prev,\n        [message.type]: message.data\n      }));\n    };\n    ws.onclose = () => {\n      console.log('WebSocket disconnected');\n      setConnected(false);\n    };\n    ws.onerror = error => {\n      console.error('WebSocket error:', error);\n      setConnected(false);\n    };\n    return () => ws.close();\n  }, [url]);\n  return {\n    data,\n    connected\n  };\n};\n_s(useWebSocket, \"TUQqxGqT3kQ80CuAmX3EcqhlolU=\");","map":{"version":3,"names":["useEffect","useState","useWebSocket","url","_s","data","setData","connected","setConnected","ws","WebSocket","onopen","console","log","onmessage","event","message","JSON","parse","prev","type","onclose","onerror","error","close"],"sources":["C:/Users/A R Khan/OneDrive/Documents/Nasa/robot/frontend/src/hooks/useWebSocket.ts"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nexport const useWebSocket = (url: string) => {\n  const [data, setData] = useState<any>({});\n  const [connected, setConnected] = useState(false);\n\n  useEffect(() => {\n    const ws = new WebSocket(url);\n\n    ws.onopen = () => {\n      console.log('WebSocket connected');\n      setConnected(true);\n    };\n\n    ws.onmessage = (event) => {\n      const message = JSON.parse(event.data);\n      setData((prev: any) => ({\n        ...prev,\n        [message.type]: message.data\n      }));\n    };\n\n    ws.onclose = () => {\n      console.log('WebSocket disconnected');\n      setConnected(false);\n    };\n\n    ws.onerror = (error) => {\n      console.error('WebSocket error:', error);\n      setConnected(false);\n    };\n\n    return () => ws.close();\n  }, [url]);\n\n  return { data, connected };\n};"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,OAAO,MAAMC,YAAY,GAAIC,GAAW,IAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAM,CAAC,CAAC,CAAC;EACzC,MAAM,CAACM,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAEjDD,SAAS,CAAC,MAAM;IACd,MAAMS,EAAE,GAAG,IAAIC,SAAS,CAACP,GAAG,CAAC;IAE7BM,EAAE,CAACE,MAAM,GAAG,MAAM;MAChBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MAClCL,YAAY,CAAC,IAAI,CAAC;IACpB,CAAC;IAEDC,EAAE,CAACK,SAAS,GAAIC,KAAK,IAAK;MACxB,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACH,KAAK,CAACV,IAAI,CAAC;MACtCC,OAAO,CAAEa,IAAS,KAAM;QACtB,GAAGA,IAAI;QACP,CAACH,OAAO,CAACI,IAAI,GAAGJ,OAAO,CAACX;MAC1B,CAAC,CAAC,CAAC;IACL,CAAC;IAEDI,EAAE,CAACY,OAAO,GAAG,MAAM;MACjBT,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;MACrCL,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC;IAEDC,EAAE,CAACa,OAAO,GAAIC,KAAK,IAAK;MACtBX,OAAO,CAACW,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;MACxCf,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC;IAED,OAAO,MAAMC,EAAE,CAACe,KAAK,CAAC,CAAC;EACzB,CAAC,EAAE,CAACrB,GAAG,CAAC,CAAC;EAET,OAAO;IAAEE,IAAI;IAAEE;EAAU,CAAC;AAC5B,CAAC;AAACH,EAAA,CAlCWF,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}